using System;
using System.Collections.Generic;
using System.Drawing;
using System.Text;

namespace Maticsoft.BLL.ScanPortImage.imageStructure.imageDataBlock
{
    public class SSQ_DataBlock : ImageDataBlock
    {
        /// <summary>
        /// （双色球蓝色球）数据块的起始位置
        /// </summary>
        protected Point startPointB;

        public static int DATA_BLOCK_HIGH = 15 * SPImageGlobal.BB_HIGH;

        public SSQ_DataBlock(int startx, int starty, int startBx, int startBy)
        {
            this.startPoint = new System.Drawing.Point(startx, starty);//红球
            this.startPointB = new System.Drawing.Point(startBx, starty);//蓝球(红球和蓝球纵坐标是一样的)
        }
        public override void getPointArrayByData(List<System.Drawing.Point> pointlist, string betCode)
        {
            betCode = "01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33+01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16;01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33+01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16;01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33+01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16;01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33+01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16;01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33+01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16;";

            string[] codes = betCode.Split(';');
            for (int i = 0; i < codes.Length; i++)
            {
                if (codes[i].Length > 0)
                {
                    string data = codes[i];

                    string red = data.Split('+')[0];
                    string blue = data.Split('+')[1];

                    //红球
                    string[] redNums = red.Split(',');
                    for (int j = 0; j < redNums.Length; j++)
                    {
                        int a = (int.Parse(redNums[j]) - 1) / 6;
                        int b = (int.Parse(redNums[j]) - 1) % 6;

                        pointlist.Add(new Point(this.startPoint.X - a * 37, this.startPoint.Y + b * 38 + i * 228));
                    }

                    //蓝球
                    string[] blueNums = blue.Split(',');
                    for (int j = 0; j < blueNums.Length; j++)
                    {
                        int a = (int.Parse(blueNums[j]) - 1) / 6;
                        int b = (int.Parse(blueNums[j]) - 1) % 6;

                        pointlist.Add(new Point(this.startPointB.X - a * 37, this.startPointB.Y + b * 38 + i * 228));
                    }
                }
            }
        }
    }
}
